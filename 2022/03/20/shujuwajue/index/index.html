<!DOCTYPE html>


<html lang="zh-hans">
  

    <head>
      <meta charset="utf-8" />
       
      <meta name="keywords" content="生活、思考、代码、学习、博客" />
       
      <meta name="description" content="学习笔记" />
      
      <meta
        name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1"
      />
      <title>python数据挖掘 |  Siamese cat</title>
  <meta name="generator" content="hexo-theme-ayer">
      
      <link rel="shortcut icon" href="/favicon.ico" />
       
<link rel="stylesheet" href="/dist/main.css">

      <link
        rel="stylesheet"
        href="https://cdn.jsdelivr.net/gh/Shen-Yu/cdn/css/remixicon.min.css"
      />
      
<link rel="stylesheet" href="/css/custom.css">
 
      <script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>
       
 

      <link
        rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/@sweetalert2/theme-bulma@5.0.1/bulma.min.css"
      />
      <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.19/dist/sweetalert2.min.js"></script>

      <!-- mermaid -->
      
      <style>
        .swal2-styled.swal2-confirm {
          font-size: 1.6rem;
        }
      </style>
    <link rel="alternate" href="/atom.xml" title="Siamese cat" type="application/atom+xml">
</head>
  </html>
</html>


<body>
  <div id="app">
    
      
    <main class="content on">
      <section class="outer">
  <article
  id="post-shujuwajue/index"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h1 class="article-title sea-center" style="border-left:0" itemprop="name">
  python数据挖掘
</h1>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2022/03/20/shujuwajue/index/" class="article-date">
  <time datetime="2022-03-20T02:35:25.000Z" itemprop="datePublished">2022-03-20</time>
</a>   
<div class="word_count">
    <span class="post-time">
        <span class="post-meta-item-icon">
            <i class="ri-quill-pen-line"></i>
            <span class="post-meta-item-text"> Word count:</span>
            <span class="post-count">3.8k</span>
        </span>
    </span>

    <span class="post-time">
        &nbsp; | &nbsp;
        <span class="post-meta-item-icon">
            <i class="ri-book-open-line"></i>
            <span class="post-meta-item-text"> Reading time≈</span>
            <span class="post-count">18 min</span>
        </span>
    </span>
</div>
 
    </div>
      
    <div class="tocbot"></div>




  
    <div class="article-entry" itemprop="articleBody">
       
  <h2 id="数据挖掘"><a href="#数据挖掘" class="headerlink" title="数据挖掘"></a>数据挖掘</h2><h4 id="一元线性回归分析与预测："><a href="#一元线性回归分析与预测：" class="headerlink" title="一元线性回归分析与预测："></a>一元线性回归分析与预测：</h4><h5 id="鸢尾花数据集中petal-length和petal-width两列数据进行一元线性回归分析"><a href="#鸢尾花数据集中petal-length和petal-width两列数据进行一元线性回归分析" class="headerlink" title="鸢尾花数据集中petal_length和petal_width两列数据进行一元线性回归分析"></a>鸢尾花数据集中petal_length和petal_width两列数据进行一元线性回归分析</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"># 第一题</span><br><span class="line">import pandas as pd</span><br><span class="line">import numpy as np</span><br><span class="line"># %matplotlib inline</span><br><span class="line"># 有了%matplotlib inline 就可以省掉plt.show()</span><br><span class="line"># 导入matplotlib绘图模块</span><br><span class="line">import matplotlib.pyplot as plt</span><br><span class="line"># 从sklearn 中导入iris数据集</span><br><span class="line">from sklearn.datasets import load_iris</span><br><span class="line"># 从sklearn中导入线性回归模型</span><br><span class="line">from sklearn.linear_model import LinearRegression</span><br><span class="line"># 加载鸢尾花数据集</span><br><span class="line">iris = load_iris()</span><br><span class="line"># 使用Pandas- DataFrame数据表结构构造鸢尾花数据</span><br><span class="line">data = pd.DataFrame(iris.data)</span><br><span class="line"># 加载满足标题</span><br><span class="line">data.columns = [&#x27;sepal-lenght&#x27;,&#x27;sepal-width&#x27;,&#x27;petal-length&#x27;,&#x27;petal-width&#x27;]</span><br><span class="line"># 展示10条数据</span><br><span class="line">data.head(10)</span><br><span class="line"># 使用petal-length和petal-width完成一元线性回归</span><br><span class="line">x = data[&#x27;petal-length&#x27;].values</span><br><span class="line">y = data[&#x27;petal-width&#x27;].values</span><br><span class="line"># 将x，y转换为有x（y）列的一行矩阵</span><br><span class="line">x = x.reshape(len(x),1)</span><br><span class="line">y = y.reshape(len(y),1)</span><br><span class="line"># 创建线性回归模型</span><br><span class="line">clf = LinearRegression()</span><br><span class="line"># 训练数据</span><br><span class="line">clf.fit(x,y)</span><br><span class="line"># 对x进行预测</span><br><span class="line">pre = clf.predict(x)</span><br><span class="line"># 使⽤scatter()绘制散点图</span><br><span class="line">plt.scatter(x,y,s=50)</span><br><span class="line"># 绘图</span><br><span class="line">plt.plot(x,pre,&#x27;r-&#x27;,linewidth=2)</span><br><span class="line">plt.xlabel(&#x27;petal-lenght&#x27;)</span><br><span class="line">plt.ylabel(&#x27;petal-width&#x27;)</span><br><span class="line"># for idx, m in enumerate(x) 方式需要同时对 idx，m两个变量同时赋值，</span><br><span class="line"># idx 赋值为x当前元素的下标，m赋值为x当前的元素。</span><br><span class="line">for idx,m in enumerate(x):</span><br><span class="line">    plt.plot([m,m],[y[idx],pre[idx]],&#x27;g-&#x27;)</span><br><span class="line"># 显示数据散点图和回归线</span><br><span class="line">plt.show()</span><br><span class="line"># 回归方程的斜率</span><br><span class="line">print(u&#x27;系数&#x27;,clf.coef_)</span><br><span class="line"># 回归方程的截距</span><br><span class="line">print(u&#x27;截距&#x27;,clf.intercept_)</span><br><span class="line"># 花萼长度为4.0的花的花萼宽度</span><br><span class="line">print(u&#x27;花萼长度为4.0的花的花萼宽度:&#x27;,clf.predict([[4.0]]))</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>​        </p>
<p><img src="https://siamesecats.github.io/img/wj1.png" alt="img"></p>
<p>​        </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">系数 [[0.41575542]]</span><br><span class="line">截距 [-0.36307552]</span><br><span class="line">花萼长度为4.0的花的花萼宽度: [[1.29994614]]</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">import numpy as np </span><br><span class="line">import pandas as pd</span><br><span class="line">import matplotlib.pyplot as plt</span><br><span class="line">from sklearn import datasets</span><br><span class="line">d = datasets.load_boston()</span><br><span class="line">data = pd.DataFrame(d.data)</span><br><span class="line">data[&#x27;price&#x27;] = d.target</span><br><span class="line">data.sample(5)</span><br><span class="line"># 进行多元线性回归建模</span><br><span class="line"># 从sklearn中导入线性回归模型</span><br><span class="line">from sklearn.linear_model import LinearRegression</span><br><span class="line"># 引入多元线性回归算法模块进行相应的训练</span><br><span class="line">simple2 = LinearRegression()</span><br><span class="line">from sklearn.model_selection import train_test_split</span><br><span class="line">x_train,x_test,y_train,y_test = train_test_split(x,y,random_state=666)</span><br><span class="line">simple2.fit(x_train,y_train)</span><br><span class="line">print(&#x27;多元线性回归模型系数:\n&#x27;,simple2.coef_)</span><br><span class="line">print(&#x27;多元线性回归模型常数项:\n&#x27;,simple2.intercept_)</span><br><span class="line">y_predict = simple2.predict(x_test)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>​        运行结果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">多元线性回归模型系数:</span><br><span class="line"> [[0.41565311]]</span><br><span class="line">多元线性回归模型常数项:</span><br><span class="line"> [-0.36769288]</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="多元线性回归建模测试："><a href="#多元线性回归建模测试：" class="headerlink" title="多元线性回归建模测试："></a>多元线性回归建模测试：</h4><h5 id="引入boston房价数据集，建模时将数据集随机分为训练集和测试集"><a href="#引入boston房价数据集，建模时将数据集随机分为训练集和测试集" class="headerlink" title="引入boston房价数据集，建模时将数据集随机分为训练集和测试集"></a>引入boston房价数据集，建模时将数据集随机分为训练集和测试集</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">import numpy as np</span><br><span class="line">import pandas as pd</span><br><span class="line">import matplotlib.pyplot as plt</span><br><span class="line">from sklearn import datasets</span><br><span class="line">d = datasets.load_boston()</span><br><span class="line">data = pd.DataFrame(d.data)</span><br><span class="line">data[&#x27;price&#x27;] = d.target</span><br><span class="line">data.sample(5)</span><br><span class="line"># 进行多元回归建模</span><br><span class="line">x = d.data[d.target&lt;50]</span><br><span class="line">y = d.target[d.target&lt;50]</span><br><span class="line">from sklearn.linear_model import LinearRegression</span><br><span class="line">simple2 = LinearRegression()</span><br><span class="line">from sklearn.model_selection import train_test_split</span><br><span class="line">x_train,x_test,y_train,y_test = train_test_split(x,y,random_state=666)</span><br><span class="line">simple2.fit(x_train,y_train)</span><br><span class="line">print(&#x27;多元线性回归模型系数：\n&#x27;,simple2.coef_)</span><br><span class="line">print(&#x27;多元线性回归模型常数项：\n&#x27;,simple2.intercept_)</span><br><span class="line"># 模型分析</span><br><span class="line">y_predict = simple2.predict(x_test)</span><br><span class="line">from sklearn.metrics import mean_absolute_error</span><br><span class="line">from sklearn.metrics import mean_squared_error</span><br><span class="line">from sklearn.metrics import r2_score  </span><br><span class="line">#直接调用库函数进行输出R2</span><br><span class="line">print(&#x27;预测值的均方误差：&#x27;,mean_squared_error(y_test,y_predict))</span><br><span class="line">print(r2_score(y_test,y_predict))</span><br><span class="line">print(simple2.score(x_test,y_test))</span><br><span class="line">print(&#x27;各特征间的系数矩阵：\n&#x27;,simple2.coef_)               #输出多元回归算法的各个特征的系数矩阵</span><br><span class="line">print(&#x27;影响房价的特征排序：\n&#x27;,np.argsort(simple2.coef_))  #输出多元线性回归算法各个特征的系数排序，可以知道各个特征的影响度</span><br><span class="line">print(&#x27;影响房价的特征系数排序：\n&#x27;,d.feature_names[np.argsort(simple2.coef_)])  #输出各个特征按照影响系数从小到大的顺序</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>​        运行结果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">多元线性回归模型系数：</span><br><span class="line"> [-1.15625837e-01  3.13179564e-02 -4.35662825e-02 -9.73281610e-02</span><br><span class="line"> -1.09500653e+01  3.49898935e+00 -1.41780625e-02 -1.06249020e+00</span><br><span class="line">  2.46031503e-01 -1.23291876e-02 -8.79440522e-01  8.31653623e-03</span><br><span class="line"> -3.98593455e-01]</span><br><span class="line">多元线性回归模型常数项：</span><br><span class="line"> 32.59756158869959</span><br><span class="line">预测值的均方误差： 13.009029984784897</span><br><span class="line">0.8009390227581041</span><br><span class="line">0.8009390227581041</span><br><span class="line">各特征间的系数矩阵：</span><br><span class="line"> [-1.15625837e-01  3.13179564e-02 -4.35662825e-02 -9.73281610e-02</span><br><span class="line"> -1.09500653e+01  3.49898935e+00 -1.41780625e-02 -1.06249020e+00</span><br><span class="line">  2.46031503e-01 -1.23291876e-02 -8.79440522e-01  8.31653623e-03</span><br><span class="line"> -3.98593455e-01]</span><br><span class="line">影响房价的特征排序：</span><br><span class="line"> [ 4  7 10 12  0  3  2  6  9 11  1  8  5]</span><br><span class="line">影响房价的特征系数排序：</span><br><span class="line"> [&#x27;NOX&#x27; &#x27;DIS&#x27; &#x27;PTRATIO&#x27; &#x27;LSTAT&#x27; &#x27;CRIM&#x27; &#x27;CHAS&#x27; &#x27;INDUS&#x27; &#x27;AGE&#x27; &#x27;TAX&#x27; &#x27;B&#x27; &#x27;ZN&#x27;</span><br><span class="line"> &#x27;RAD&#x27; &#x27;RM&#x27;]</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="逻辑回归建模："><a href="#逻辑回归建模：" class="headerlink" title="逻辑回归建模："></a>逻辑回归建模：</h4><h5 id="引入鸢尾花数据集随机按8比2划分训练集和测试集，并进行归一化处理"><a href="#引入鸢尾花数据集随机按8比2划分训练集和测试集，并进行归一化处理" class="headerlink" title="引入鸢尾花数据集随机按8比2划分训练集和测试集，并进行归一化处理"></a>引入鸢尾花数据集随机按8比2划分训练集和测试集，并进行归一化处理</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">from sklearn.datasets import load_iris</span><br><span class="line">X = load_iris().data</span><br><span class="line">y = load_iris().target</span><br><span class="line">print(&#x27;前8条数据:\n&#x27;,X[:8])</span><br><span class="line">print(&#x27;前8条数据对应的类型:\n&#x27;,y[:8])</span><br><span class="line"># 划分训练集和测试集并进行归一化</span><br><span class="line">from sklearn.model_selection import train_test_split</span><br><span class="line"># 分割测试集的比例 test_size=0.2</span><br><span class="line">X_train,X_test,y_train,y_test = train_test_split(X,y,test_size=0.2,random_state=0)</span><br><span class="line">from sklearn.preprocessing import StandardScaler</span><br><span class="line">sc = StandardScaler()</span><br><span class="line">X_train = sc.fit_transform(X_train)</span><br><span class="line">X_test = sc.fit_transform(X_test)</span><br><span class="line">print(X_train[:5])</span><br><span class="line"># 训练逻辑回归模型并对测试集进行预测</span><br><span class="line">from sklearn.linear_model import LogisticRegression</span><br><span class="line">classifier = LogisticRegression(random_state=0)</span><br><span class="line">classifier.fit(X_train,y_train)</span><br><span class="line">y_pred = classifier.predict(X_test)</span><br><span class="line"># 用 LogisticRegression 自带的 score() 方法获取模型在测试集上的准确性</span><br><span class="line">print(&#x27;准确率:%.3f&#x27;%classifier.score(X_test,y_test))</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>​        运行结果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">前8条数据:</span><br><span class="line"> [[5.1 3.5 1.4 0.2]</span><br><span class="line"> [4.9 3.  1.4 0.2]</span><br><span class="line"> [4.7 3.2 1.3 0.2]</span><br><span class="line"> [4.6 3.1 1.5 0.2]</span><br><span class="line"> [5.  3.6 1.4 0.2]</span><br><span class="line"> [5.4 3.9 1.7 0.4]</span><br><span class="line"> [4.6 3.4 1.4 0.3]</span><br><span class="line"> [5.  3.4 1.5 0.2]]</span><br><span class="line">前8条数据对应的类型:</span><br><span class="line"> [0 0 0 0 0 0 0 0]</span><br><span class="line">[[ 0.61303014  0.10850105  0.94751783  0.736072  ]</span><br><span class="line"> [-0.56776627 -0.12400121  0.38491447  0.34752959]</span><br><span class="line"> [-0.80392556  1.03851009 -1.30289562 -1.33615415]</span><br><span class="line"> [ 0.25879121 -0.12400121  0.60995581  0.736072  ]</span><br><span class="line"> [ 0.61303014 -0.58900572  1.00377816  1.25412853]]</span><br><span class="line">准确率:0.767</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="多项式回归："><a href="#多项式回归：" class="headerlink" title="多项式回归："></a>多项式回归：</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">import numpy as np</span><br><span class="line">import matplotlib.pyplot as plt</span><br><span class="line"># 在-4到4范围内生成1000个统一均匀分布随机数</span><br><span class="line">x = np.random.uniform(-4,4,size=1000)</span><br><span class="line"># print(x)</span><br><span class="line"># 将 x 变成 一行一列的矩阵</span><br><span class="line">X = x.reshape(-1,1)</span><br><span class="line"># print(X)</span><br><span class="line"># y=2x+2x2+2并引入标准正态分布噪声 </span><br><span class="line">y = 2*x+2*x**2+2 + np.random.normal(0,1,size=1000)</span><br><span class="line"># print(y)</span><br><span class="line"># 数据引入噪声</span><br><span class="line">plt.scatter(x,y)</span><br><span class="line"># 绘制散点图</span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line"># 数据做 线性回归</span><br><span class="line">from sklearn.linear_model import LinearRegression</span><br><span class="line"># 线性回归</span><br><span class="line">lin_reg = LinearRegression()</span><br><span class="line"># 根据X,y进行fit训练模型</span><br><span class="line">lin_reg.fit(X,y)</span><br><span class="line"># 预测 X对应的标记y</span><br><span class="line">y_predict = lin_reg.predict(X)</span><br><span class="line"># 设置字体样式</span><br><span class="line">plt.rcParams[&#x27;font.family&#x27;] = [&#x27;SimHei&#x27;]</span><br><span class="line"># 运行配置参数总的轴（axes）正常显示正负号</span><br><span class="line">plt.rcParams[&#x27;axes.unicode_minus&#x27;] = False</span><br><span class="line"># 绘图</span><br><span class="line">plt.title(&#x27;线性回归&#x27;)</span><br><span class="line">plt.scatter(x,y)</span><br><span class="line">plt.plot(x,y_predict,color=&#x27;r&#x27;)</span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line"># 数据做多项式回归</span><br><span class="line">from sklearn.preprocessing import PolynomialFeatures</span><br><span class="line"># degree指定多项式最大次数</span><br><span class="line">poly = PolynomialFeatures(degree=2)</span><br><span class="line"></span><br><span class="line"># 设置最多添加几次幂的特征项</span><br><span class="line"># 根据X,进行fit训练模型</span><br><span class="line">poly.fit(X)</span><br><span class="line"># 重新映射绘图用 X 轴采样数据</span><br><span class="line">x2 = poly.transform(X)</span><br><span class="line"># 从sklearn中导入线性回归模型</span><br><span class="line">from sklearn.linear_model import LinearRegression</span><br><span class="line"># 以下代码跟线性回归一致</span><br><span class="line">lin_reg2 = LinearRegression()</span><br><span class="line">lin_reg2.fit(x2,y)</span><br><span class="line">y_predict2 = lin_reg2.predict(x2)</span><br><span class="line">plt.scatter(x,y)</span><br><span class="line">plt.plot(np.sort(x),y_predict2[np.argsort(x)],color=&#x27;r&#x27;)</span><br><span class="line">plt.title(&#x27;多项式回归&#x27;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>​        </p>
<p><img src="https://siamesecats.github.io/img/wj2.png" alt="img"></p>
<p>​        </p>
<p><img src="https://siamesecats.github.io/img/wj3.png" alt="img"></p>
<p>​        </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Text(0.5, 1.0, &#x27;多项式回归&#x27;)</span><br></pre></td></tr></table></figure>

<p>​        </p>
<p><img src="https://siamesecats.github.io/img/wj4.png" alt="img"></p>
<h4 id="Apriori算法："><a href="#Apriori算法：" class="headerlink" title="Apriori算法："></a>Apriori算法：</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"># 安装第三方包 apyori</span><br><span class="line">#!pip install apyori</span><br><span class="line">from apyori import apriori</span><br><span class="line">import pandas as pd</span><br><span class="line"># 导入数据集 单引号 &#x27;&#x27; /</span><br><span class="line">df = pd.read_excel(&#x27;data.xls&#x27;)</span><br><span class="line"># 显示数据</span><br><span class="line">df.head()</span><br><span class="line"># 获取项集</span><br><span class="line">transactions = df.groupby(by=&#x27;OrderID&#x27;).apply(lambda x: list(x.CategoryName))</span><br><span class="line"># 显示6行数据</span><br><span class="line">transactions.head(6)</span><br><span class="line"># 进行关联规则挖掘</span><br><span class="line"># 设置支持度</span><br><span class="line">min_supp = 0.1</span><br><span class="line"># 设置置信度</span><br><span class="line">min_conf = 0.1</span><br><span class="line"># 设置提升度</span><br><span class="line">min_lift = 0.1</span><br><span class="line"># 使用apriori算法 transactions——数据集、min_support——最小支持度，可用来筛选项集</span><br><span class="line"># min_confidence——最小可信度、min_lift——最小提升度，都是float类型</span><br><span class="line">result = list(apriori(transactions=transactions,min_support=min_supp,min_confidence=min_conf,min_lift = min_lift))</span><br><span class="line">result</span><br><span class="line"></span><br><span class="line"># 显示挖掘的关联规则</span><br><span class="line">supports = []</span><br><span class="line">confidences = []</span><br><span class="line">lifts = []</span><br><span class="line">bases = []</span><br><span class="line">adds = []</span><br><span class="line">for r in result:</span><br><span class="line">#     ordered_statistics:存在的关联规则，可迭代</span><br><span class="line">#     迭代后元素属性： items_base:关联规则中的分母项集；</span><br><span class="line">#                      confidence:上面的分母规则对应的关联规则的可信度</span><br><span class="line">    for x in r.ordered_statistics:</span><br><span class="line">        supports.append(r.support)</span><br><span class="line">        confidences.append(x.confidence)</span><br><span class="line">        lifts.append(x.lift)</span><br><span class="line">        bases.append(list(x.items_base))</span><br><span class="line">        adds.append(list(x.items_add))</span><br><span class="line">resultshow = pd.DataFrame(&#123;</span><br><span class="line">    &#x27;support&#x27;:supports,</span><br><span class="line">    &#x27;confidence&#x27;:confidences,</span><br><span class="line">    &#x27;lift&#x27;:lifts,</span><br><span class="line">    &#x27;base&#x27;:bases,</span><br><span class="line">    &#x27;add&#x27;:adds</span><br><span class="line">&#125;)</span><br><span class="line">resultshow.tail(8)</span><br><span class="line"># print(resultshow)</span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>​        运行结果：</p>
<table>
<thead>
<tr>
<th></th>
<th>support</th>
<th>confidence</th>
<th>lift</th>
<th>base</th>
<th>add</th>
</tr>
</thead>
<tbody><tr>
<td>18</td>
<td>0.113253</td>
<td>0.318644</td>
<td>0.872853</td>
<td>[Confections]</td>
<td>[Dairy Products]</td>
</tr>
<tr>
<td>19</td>
<td>0.113253</td>
<td>0.310231</td>
<td>0.872853</td>
<td>[Dairy Products]</td>
<td>[Confections]</td>
</tr>
<tr>
<td>20</td>
<td>0.102410</td>
<td>0.102410</td>
<td>1.000000</td>
<td>[]</td>
<td>[Confections, Seafood]</td>
</tr>
<tr>
<td>21</td>
<td>0.102410</td>
<td>0.288136</td>
<td>0.821830</td>
<td>[Confections]</td>
<td>[Seafood]</td>
</tr>
<tr>
<td>22</td>
<td>0.102410</td>
<td>0.292096</td>
<td>0.821830</td>
<td>[Seafood]</td>
<td>[Confections]</td>
</tr>
<tr>
<td>23</td>
<td>0.110843</td>
<td>0.110843</td>
<td>1.000000</td>
<td>[]</td>
<td>[Dairy Products, Seafood]</td>
</tr>
<tr>
<td>24</td>
<td>0.110843</td>
<td>0.303630</td>
<td>0.866025</td>
<td>[Dairy Products]</td>
<td>[Seafood]</td>
</tr>
<tr>
<td>25</td>
<td>0.110843</td>
<td>0.316151</td>
<td>0.866025</td>
<td>[Seafood]</td>
<td>[Dairy Products]</td>
</tr>
</tbody></table>
<h4 id="KNN算法实现"><a href="#KNN算法实现" class="headerlink" title="KNN算法实现:"></a>KNN算法实现:</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">import numpy as np</span><br><span class="line"># Puplot 提供了一套和MATLAB类似的绘图API，使得Matplotlib的机制更像MATLAB。</span><br><span class="line"># 我们只需要调用Pyplot模块所提供的函数就可以快速绘图并设置图表的各个细节</span><br><span class="line">import matplotlib.pyplot as plt</span><br><span class="line">from matplotlib.colors import ListedColormap </span><br><span class="line">from sklearn.neighbors import KNeighborsClassifier # 导入sklearn类库及KNN模型</span><br><span class="line">from sklearn.datasets import load_iris</span><br><span class="line"># 加载鸢尾花数据集，并分割成样本特征X和样本标签Y</span><br><span class="line">iris = load_iris()</span><br><span class="line">X = iris.data[:,:2]</span><br><span class="line"># print(X)</span><br><span class="line"># print(X[:,0])</span><br><span class="line">Y = iris.target</span><br><span class="line"># 绘制背景颜色和散点颜色映射表</span><br><span class="line">cmap_light = ListedColormap([&#x27;#FFAAAA&#x27;,&#x27;#AAFFAA&#x27;,&#x27;#AAAAFF&#x27;])</span><br><span class="line">cmap_bold = ListedColormap([&#x27;#FF0000&#x27;,&#x27;#00FF00&#x27;,&#x27;#0000FF&#x27;])</span><br><span class="line">clf = KNeighborsClassifier(n_neighbors= 10,weights=&#x27;uniform&#x27;)</span><br><span class="line">clf.fit(X,Y)</span><br><span class="line"># 画出决策边界</span><br><span class="line">x_min , x_max = X[:,0].min() - 1, X[:,0].max() + 1</span><br><span class="line">y_min , y_max = X[:,1].min() - 1, X[:,1].max() + 1</span><br><span class="line">xx,yy = np.meshgrid(np.arange(x_min,x_max,0.02),np.arange(y_min,y_max,0.02))</span><br><span class="line"> </span><br><span class="line">Z = clf.predict(np.c_[xx.ravel(),yy.ravel()]).reshape(xx.shape)</span><br><span class="line"> </span><br><span class="line">plt.figure()</span><br><span class="line">plt.pcolormesh(xx,yy,Z,cmap=cmap_light)</span><br><span class="line"># 绘制预测结果图</span><br><span class="line">plt.scatter(X[:,0],X[:,1],c = Y,cmap=cmap_bold)</span><br><span class="line">plt.xlim(xx.min(),xx.max()) # xlim：当前图形X轴的范围</span><br><span class="line">plt.ylim(yy.min(),yy.max())</span><br><span class="line">plt.title(&#x27;3_Class(k=10,weights=uniform)&#x27;)</span><br><span class="line">plt.show</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>  运行结果：</p>
<p><img src="https://siamesecats.github.io/img/wj5.png" alt="img"></p>
<h4 id="CART决策树算法实现："><a href="#CART决策树算法实现：" class="headerlink" title="CART决策树算法实现："></a>CART决策树算法实现：</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">import pandas as pd</span><br><span class="line">import matplotlib.pyplot as plt</span><br><span class="line">from sklearn.datasets import load_iris</span><br><span class="line">from sklearn import tree</span><br><span class="line">from sklearn.model_selection import train_test_split</span><br><span class="line">iris = load_iris()</span><br><span class="line">X_train,X_test,y_train,y_test = train_test_split(iris.data,iris.target,test_size=0.2,random_state=30,shuffle=True)</span><br><span class="line">clf = tree.DecisionTreeClassifier(criterion=&#x27;entropy&#x27;)</span><br><span class="line">clf = clf.fit(X_train,y_train)</span><br><span class="line">plt.figure(dpi=150)</span><br><span class="line">tree.plot_tree(clf,feature_names=iris.feature_names,class_names=iris.target_names)</span><br><span class="line">print(&#x27;预测数据[6,5,5,2]的类别：&#x27;,clf.predict([[6,5,5,2]]))</span><br><span class="line">print(&#x27;测试集的标签：\n&#x27;,y_test)</span><br><span class="line">y_pre = clf.predict(X_test)</span><br><span class="line">print(&#x27;预测的测试集的标签：\n&#x27;,y_pre)</span><br><span class="line">print(&#x27;模型的准确率为:&#x27;,clf.score(X_test,y_test))</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>​        运行结果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">预测数据[6,5,5,2]的类别： [2]</span><br><span class="line">测试集的标签：</span><br><span class="line"> [0 0 0 2 1 1 2 2 1 2 0 2 1 1 0 1 0 0 0 1 2 0 0 0 2 2 1 2 0 1]</span><br><span class="line">预测的测试集的标签：</span><br><span class="line"> [0 0 0 2 1 1 2 2 1 2 0 2 1 1 0 1 0 0 0 1 1 0 0 0 2 2 2 2 0 1]</span><br><span class="line">模型的准确率为: 0.9333333333333333</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>​        </p>
<p><img src="https://siamesecats.github.io/img/wj6.png" alt="img"></p>
<h4 id="SVM支持向量机算法实现"><a href="#SVM支持向量机算法实现" class="headerlink" title="SVM支持向量机算法实现:"></a>SVM支持向量机算法实现:</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">import pandas as pd</span><br><span class="line">from sklearn import svm</span><br><span class="line">from sklearn import datasets</span><br><span class="line">from sklearn import metrics</span><br><span class="line">from sklearn import model_selection</span><br><span class="line">import matplotlib.pyplot as plt</span><br><span class="line">iris = datasets.load_iris()</span><br><span class="line">x,y = iris.data,iris.target</span><br><span class="line">x_train,x_test,y_train,y_test = model_selection.train_test_split(x,y,test_size=0.2,random_state=1)</span><br><span class="line">classifier = svm.SVC(kernel=&#x27;linear&#x27;,gamma=0.1,</span><br><span class="line">                    decision_function_shape=&#x27;ovo&#x27;,C=0.1)</span><br><span class="line">classifier.fit(x_train,y_train.ravel())</span><br><span class="line">print(&quot;SVM-输出训练集的准确率为:&quot;,classifier.score(x_train,y_train))</span><br><span class="line">print(&quot;SVM-输出测试集的准确率为:&quot;,classifier.score(x_test,y_test))</span><br><span class="line">y_hat = classifier.predict(x_test)</span><br><span class="line">classreport = metrics.classification_report(y_test,y_hat)</span><br><span class="line">print(classreport)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>​        运行结果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">SVM-输出训练集的准确率为: 0.975</span><br><span class="line">SVM-输出测试集的准确率为: 0.9666666666666667</span><br><span class="line">              precision    recall  f1-score   support</span><br><span class="line"></span><br><span class="line">           0       1.00      1.00      1.00        11</span><br><span class="line">           1       1.00      0.92      0.96        13</span><br><span class="line">           2       0.86      1.00      0.92         6</span><br><span class="line"></span><br><span class="line">    accuracy                           0.97        30</span><br><span class="line">   macro avg       0.95      0.97      0.96        30</span><br><span class="line">weighted avg       0.97      0.97      0.97        30</span><br></pre></td></tr></table></figure>

<h4 id="朴素贝叶斯算法实现："><a href="#朴素贝叶斯算法实现：" class="headerlink" title="朴素贝叶斯算法实现："></a>朴素贝叶斯算法实现：</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">from sklearn import datasets</span><br><span class="line">from sklearn.model_selection import train_test_split</span><br><span class="line">from sklearn.naive_bayes import MultinomialNB, GaussianNB</span><br><span class="line">import matplotlib.pyplot as plt</span><br><span class="line">import numpy as np</span><br><span class="line">import matplotlib as mpl</span><br><span class="line">from sklearn.preprocessing import StandardScaler</span><br><span class="line">from sklearn.pipeline import Pipeline</span><br><span class="line"></span><br><span class="line">iris = datasets.load_iris() # 加载鸢尾花数据</span><br><span class="line">iris_x = iris.data  # 获取数据</span><br><span class="line"># print(iris_x)</span><br><span class="line">iris_x = iris_x[:, :2]  # 取前两个特征值</span><br><span class="line"># print(iris_x)</span><br><span class="line">iris_y = iris.target    # 0， 1， 2</span><br><span class="line">x_train, x_test, y_train, y_test = train_test_split(iris_x, iris_y, test_size=0.2, random_state=1)</span><br><span class="line"># 对数据进行分类 一部分最为训练一部分作为测试</span><br><span class="line"># clf = GaussianNB()</span><br><span class="line"># ir = clf.fit(x_train, y_train)</span><br><span class="line">clf = Pipeline([</span><br><span class="line">         (&#x27;sc&#x27;, StandardScaler()),</span><br><span class="line">         (&#x27;clf&#x27;, GaussianNB())])   </span><br><span class="line">ir = clf.fit(x_train, y_train.ravel())  # 利用训练数据进行拟合</span><br><span class="line"> </span><br><span class="line"># 画图：   </span><br><span class="line">x1_max, x1_min = max(x_test[:, 0]), min(x_test[:, 0])   # 取0列特征得最大最小值</span><br><span class="line">x2_max, x2_min = max(x_test[:, 1]), min(x_test[:, 1])   # 取1列特征得最大最小值</span><br><span class="line">t1 = np.linspace(x1_min, x1_max, 500)   # 生成500个测试点</span><br><span class="line">t2 = np.linspace(x2_min, x2_max, 500)   </span><br><span class="line">x1, x2 = np.meshgrid(t1, t2)  # 生成网格采样点</span><br><span class="line">x_test1 = np.stack((x1.flat, x2.flat), axis=1)</span><br><span class="line">y_hat = ir.predict(x_test1) # 预测</span><br><span class="line">mpl.rcParams[&#x27;font.sans-serif&#x27;] = [u&#x27;simHei&#x27;]   # 识别中文保证不乱吗</span><br><span class="line">mpl.rcParams[&#x27;axes.unicode_minus&#x27;] = False</span><br><span class="line">cm_light = mpl.colors.ListedColormap([&#x27;#77E0A0&#x27;, &#x27;#FF8080&#x27;, &#x27;#A0A0FF&#x27;]) # 测试分类的颜色</span><br><span class="line">cm_dark = mpl.colors.ListedColormap([&#x27;g&#x27;, &#x27;r&#x27;, &#x27;b&#x27;])    # 样本点的颜色</span><br><span class="line">plt.figure(facecolor=&#x27;w&#x27;)</span><br><span class="line">plt.pcolormesh(x1, x2, y_hat.reshape(x1.shape), cmap=cm_light)  # y_hat  25000个样本点的画图，</span><br><span class="line">plt.scatter(x_test[:, 0], x_test[:, 1], edgecolors=&#x27;k&#x27;, s=50, c=y_test, cmap=cm_dark)   </span><br><span class="line">plt.xlabel(u&#x27;花萼长度&#x27;, fontsize=14)</span><br><span class="line">plt.ylabel(u&#x27;花萼宽度&#x27;, fontsize=14)</span><br><span class="line">plt.title(u&#x27;GaussianNB对鸢尾花数据的分类结果&#x27;, fontsize=18)</span><br><span class="line">plt.grid(True)</span><br><span class="line">plt.xlim(x1_min, x1_max)</span><br><span class="line">plt.ylim(x2_min, x2_max)</span><br><span class="line">plt.show()</span><br><span class="line">y_hat1 = ir.predict(x_test)</span><br><span class="line">result = y_hat1 == y_test</span><br><span class="line">print(result)</span><br><span class="line">acc = np.mean(result)</span><br><span class="line">print(&#x27;准确度: %.2f%%&#x27; % (100 * acc))</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>​        运行结果：  </p>
<p><img src="https://siamesecats.github.io/img/wj7.png" alt="img"></p>
<p>​        </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[ True  True False  True  True False  True  True  True  True  True  True</span><br><span class="line">  True False  True  True  True  True  True  True  True  True False  True</span><br><span class="line">  True  True  True  True  True False]</span><br><span class="line">准确度: 83.33%</span><br></pre></td></tr></table></figure>

<h4 id="随机森林算法实现："><a href="#随机森林算法实现：" class="headerlink" title="随机森林算法实现："></a>随机森林算法实现：</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">from sklearn.tree import DecisionTreeClassifier</span><br><span class="line">from sklearn.ensemble import RandomForestClassifier</span><br><span class="line">from sklearn.datasets import load_iris</span><br><span class="line">iris = load_iris()</span><br><span class="line">from sklearn.model_selection import train_test_split</span><br><span class="line">Xtrain,Xtest,Ytrain,Ytest = train_test_split(iris.data,iris.target,test_size=0.3)</span><br><span class="line">clf = DecisionTreeClassifier(random_state=0)</span><br><span class="line">rfc = RandomForestClassifier(random_state=0)</span><br><span class="line">clf = clf.fit(Xtrain,Ytrain)</span><br><span class="line">rfc = rfc.fit(Xtrain,Ytrain)</span><br><span class="line">a = clf.score(Xtest,Ytest)</span><br><span class="line">b = rfc.score(Xtest,Ytest)</span><br><span class="line">print(&quot;训练集的准确率为: &quot;,a)</span><br><span class="line">print(&quot;测试集的准确率为: &quot;,b)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>​        运行结果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">训练集的准确率为:  0.9555555555555556</span><br><span class="line">测试集的准确率为:  0.9777777777777777</span><br></pre></td></tr></table></figure>
<h4 id="Kmeans算法聚类分析："><a href="#Kmeans算法聚类分析：" class="headerlink" title="Kmeans算法聚类分析："></a>Kmeans算法聚类分析：</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">import matplotlib.pyplot as plt</span><br><span class="line">import numpy as np</span><br><span class="line">from sklearn.cluster import KMeans         </span><br><span class="line">#from sklearn import datasets</span><br><span class="line">from sklearn.datasets import load_iris     #从sklearn库中导入鸢尾花数据集</span><br><span class="line">iris = load_iris()</span><br><span class="line">X = iris.data[:]  </span><br><span class="line">         # 看看几行几列：（150，4） </span><br><span class="line">estimator = KMeans(n_clusters=2)       #构造聚类器</span><br><span class="line">estimator.fit(X)                       #聚类</span><br><span class="line">label_pred = estimator.labels_         #获取聚类标签</span><br><span class="line">x0 = X[label_pred == 0]</span><br><span class="line">x1 = X[label_pred == 1]</span><br><span class="line">x2 = X[label_pred == 2]</span><br><span class="line">plt.scatter(x0[:, 0], x0[:, 1], c = &quot;red&quot;, marker=&#x27;o&#x27;, label=&#x27;label0&#x27;)</span><br><span class="line">plt.scatter(x1[:, 0], x1[:, 1], c = &quot;green&quot;, marker=&#x27;*&#x27;, label=&#x27;label1&#x27;)</span><br><span class="line">plt.scatter(x2[:, 0], x2[:, 1], c = &quot;blue&quot;, marker=&#x27;+&#x27;, label=&#x27;label2&#x27;)</span><br><span class="line">plt.xlabel(&#x27;petal length&#x27;)</span><br><span class="line">plt.ylabel(&#x27;petal width&#x27;)</span><br><span class="line">plt.legend(loc=2)</span><br><span class="line">plt.show()</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>​        运行结果:</p>
<p><img src="https://siamesecats.github.io/img/wj9.png" alt="img"></p>
<h4 id="层次聚类的实现："><a href="#层次聚类的实现：" class="headerlink" title="层次聚类的实现："></a>层次聚类的实现：</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">from sklearn.datasets._samples_generator import make_blobs</span><br><span class="line">from sklearn.cluster import AgglomerativeClustering</span><br><span class="line">import numpy as np</span><br><span class="line">import matplotlib.pyplot as plt</span><br><span class="line"># python自带的迭代器模块</span><br><span class="line">from itertools import cycle</span><br><span class="line"># 产生随机数据的中心</span><br><span class="line">centers = [[1,1],[-1,-1],[1,-1]]</span><br><span class="line"># 产生的数据个数</span><br><span class="line">n_samples = 3000</span><br><span class="line"># 产生数据</span><br><span class="line">X,lables_true = make_blobs(n_samples = n_samples,centers=centers,cluster_std = 0.6,random_state=0)</span><br><span class="line"># 设置分层聚类函数</span><br><span class="line">linkages = [&#x27;ward&#x27;,&#x27;average&#x27;,&#x27;complete&#x27;]</span><br><span class="line">n_clusters_ = 3</span><br><span class="line">ac = AgglomerativeClustering(linkage=linkages[2],n_clusters = n_clusters_)</span><br><span class="line"># 训练数据</span><br><span class="line">ac.fit(X)</span><br><span class="line"># 每个数据的分类</span><br><span class="line">lables = ac.labels_</span><br><span class="line">plt.figure(1)</span><br><span class="line">plt.clf()</span><br><span class="line">colors = cycle(&#x27;bgrcmykbgrcmybgrcmykbgrcmyk&#x27;)</span><br><span class="line">for k,col in zip(range(n_clusters_),colors):</span><br><span class="line">#     根据 lables 中的值 是否等于 k，重新组成一个 True、False的数组</span><br><span class="line">    my_members = lables==k</span><br><span class="line">    plt.plot(X[my_members,0],X[my_members,1],col + &#x27;.&#x27;)</span><br><span class="line">plt.title(&#x27;Estimated number of clusters: %d&#x27; % n_clusters_)</span><br><span class="line">plt.show()</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>​        运行结果：</p>
<p><img src="https://siamesecats.github.io/img/wj10.png" alt="img"></p>
 
      <!-- reward -->
      
      <div id="reword-out">
        <div id="reward-btn">
          Donate
        </div>
      </div>
      
    </div>
    

    <!-- copyright -->
    
    <div class="declare">
      <ul class="post-copyright">
        <li>
          <i class="ri-copyright-line"></i>
          <strong>Copyright： </strong>
          
          Copyright is owned by the author. For commercial reprints, please contact the author for authorization. For non-commercial reprints, please indicate the source.
          
        </li>
      </ul>
    </div>
    
    <footer class="article-footer">
       
<div class="share-btn">
      <span class="share-sns share-outer">
        <i class="ri-share-forward-line"></i>
        分享
      </span>
      <div class="share-wrap">
        <i class="arrow"></i>
        <div class="share-icons">
          
          <a class="weibo share-sns" href="javascript:;" data-type="weibo">
            <i class="ri-weibo-fill"></i>
          </a>
          <a class="weixin share-sns wxFab" href="javascript:;" data-type="weixin">
            <i class="ri-wechat-fill"></i>
          </a>
          <a class="qq share-sns" href="javascript:;" data-type="qq">
            <i class="ri-qq-fill"></i>
          </a>
          <a class="douban share-sns" href="javascript:;" data-type="douban">
            <i class="ri-douban-line"></i>
          </a>
          <!-- <a class="qzone share-sns" href="javascript:;" data-type="qzone">
            <i class="icon icon-qzone"></i>
          </a> -->
          
          <a class="facebook share-sns" href="javascript:;" data-type="facebook">
            <i class="ri-facebook-circle-fill"></i>
          </a>
          <a class="twitter share-sns" href="javascript:;" data-type="twitter">
            <i class="ri-twitter-fill"></i>
          </a>
          <a class="google share-sns" href="javascript:;" data-type="google">
            <i class="ri-google-fill"></i>
          </a>
        </div>
      </div>
</div>

<div class="wx-share-modal">
    <a class="modal-close" href="javascript:;"><i class="ri-close-circle-line"></i></a>
    <p>扫一扫，分享到微信</p>
    <div class="wx-qrcode">
      <img src="//api.qrserver.com/v1/create-qr-code/?size=150x150&data=https://example.com/2022/03/20/shujuwajue/index/" alt="微信分享二维码">
    </div>
</div>

<div id="share-mask"></div>  
    </footer>
  </div>

   
  <nav class="article-nav">
    
      <a href="/2022/03/20/R/index/" class="article-nav-link">
        <strong class="article-nav-caption">上一篇</strong>
        <div class="article-nav-title">
          
            R语言基础
          
        </div>
      </a>
    
    
      <a href="/2022/03/19/shujucaiji/index/" class="article-nav-link">
        <strong class="article-nav-caption">下一篇</strong>
        <div class="article-nav-title">数据采集</div>
      </a>
    
  </nav>

   
<!-- valine评论 -->
<div id="vcomments-box">
  <div id="vcomments"></div>
</div>
<script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/valine@1.4.14/dist/Valine.min.js"></script>
<script>
  new Valine({
    el: "#vcomments",
    app_id: "",
    app_key: "",
    path: window.location.pathname,
    avatar: "monsterid",
    placeholder: "给我的文章加点评论吧~",
    recordIP: true,
  });
  const infoEle = document.querySelector("#vcomments .info");
  if (infoEle && infoEle.childNodes && infoEle.childNodes.length > 0) {
    infoEle.childNodes.forEach(function (item) {
      item.parentNode.removeChild(item);
    });
  }
</script>
<style>
  #vcomments-box {
    padding: 5px 30px;
  }

  @media screen and (max-width: 800px) {
    #vcomments-box {
      padding: 5px 0px;
    }
  }

  #vcomments-box #vcomments {
    background-color: #fff;
  }

  .v .vlist .vcard .vh {
    padding-right: 20px;
  }

  .v .vlist .vcard {
    padding-left: 10px;
  }
</style>

 
   
     
</article>

</section>
      <footer class="footer">
  <div class="outer">
    <ul>
      <li>
        Copyrights &copy;
        2019-2022
        <i class="ri-heart-fill heart_icon"></i> Siamese cat
      </li>
    </ul>
    <ul>
      <li>
        
      </li>
    </ul>
    <ul>
      <li>
        
        
        <span>
  <span><i class="ri-user-3-fill"></i>Visitors:<span id="busuanzi_value_site_uv"></span></span>
  <span class="division">|</span>
  <span><i class="ri-eye-fill"></i>Views:<span id="busuanzi_value_page_pv"></span></span>
</span>
        
      </li>
    </ul>
    <ul>
      
    </ul>
    <ul>
      
      <li>
          <img src="/images/beian.png"></img>
          <a href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=01234567890123" target="_black" rel="nofollow">浙公网安备01234567890123号</a>
      </li>
        
    </ul>
    <ul>
      <li>
        <!-- cnzz统计 -->
        
        <script type="text/javascript" src=''></script>
        
      </li>
    </ul>
  </div>
</footer>    
    </main>
    <div class="float_btns">
      <div class="totop" id="totop">
  <i class="ri-arrow-up-line"></i>
</div>

<div class="todark" id="todark">
  <i class="ri-moon-line"></i>
</div>

    </div>
    <aside class="sidebar on">
      <button class="navbar-toggle"></button>
<nav class="navbar">
  
  <div class="logo">
    <a href="/"><img src="/images/ayer-side.svg" alt="Siamese cat"></a>
  </div>
  
  <ul class="nav nav-main">
    
    <li class="nav-item">
      <a class="nav-item-link" href="/">主页</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/archives">综合</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/categories">Python</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/tags">Java</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" target="_blank" rel="noopener" href="https://www.runoob.com/">菜鸟教程</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/datas">大数据</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/projects">项目记录</a>
    </li>
    
  </ul>
</nav>
<nav class="navbar navbar-bottom">
  <ul class="nav">
    <li class="nav-item">
      
      <a class="nav-item-link nav-item-search"  title="Search">
        <i class="ri-search-line"></i>
      </a>
      
      
      <a class="nav-item-link" target="_blank" href="/atom.xml" title="RSS Feed">
        <i class="ri-rss-line"></i>
      </a>
      
    </li>
  </ul>
</nav>
<div class="search-form-wrap">
  <div class="local-search local-search-plugin">
  <input type="search" id="local-search-input" class="local-search-input" placeholder="Search...">
  <div id="local-search-result" class="local-search-result"></div>
</div>
</div>
    </aside>
    <div id="mask"></div>

<!-- #reward -->
<div id="reward">
  <span class="close"><i class="ri-close-line"></i></span>
  <p class="reward-p"><i class="ri-cup-line"></i>请我喝杯咖啡吧~</p>
  <div class="reward-box">
    
    <div class="reward-item">
      <img class="reward-img" src="/images/alipay.jpg">
      <span class="reward-type">支付宝</span>
    </div>
    
    
    <div class="reward-item">
      <img class="reward-img" src="/images/wechat.jpg">
      <span class="reward-type">微信</span>
    </div>
    
  </div>
</div>
    
<script src="/js/jquery-3.6.0.min.js"></script>
 
<script src="/js/lazyload.min.js"></script>

<!-- Tocbot -->
 
<script src="/js/tocbot.min.js"></script>

<script>
  tocbot.init({
    tocSelector: ".tocbot",
    contentSelector: ".article-entry",
    headingSelector: "h1, h2, h3, h4, h5, h6",
    hasInnerContainers: true,
    scrollSmooth: true,
    scrollContainer: "main",
    positionFixedSelector: ".tocbot",
    positionFixedClass: "is-position-fixed",
    fixedSidebarOffset: "auto",
  });
</script>

<script src="https://cdn.jsdelivr.net/npm/jquery-modal@0.9.2/jquery.modal.min.js"></script>
<link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/jquery-modal@0.9.2/jquery.modal.min.css"
/>
<script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js"></script>

<script src="/dist/main.js"></script>

<!-- ImageViewer -->
 <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css">
<script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"></script>

<script>
    function viewer_init() {
        let pswpElement = document.querySelectorAll('.pswp')[0];
        let $imgArr = document.querySelectorAll(('.article-entry img:not(.reward-img)'))

        $imgArr.forEach(($em, i) => {
            $em.onclick = () => {
                // slider展开状态
                // todo: 这样不好，后面改成状态
                if (document.querySelector('.left-col.show')) return
                let items = []
                $imgArr.forEach(($em2, i2) => {
                    let img = $em2.getAttribute('data-idx', i2)
                    let src = $em2.getAttribute('data-target') || $em2.getAttribute('src')
                    let title = $em2.getAttribute('alt')
                    // 获得原图尺寸
                    const image = new Image()
                    image.src = src
                    items.push({
                        src: src,
                        w: image.width || $em2.width,
                        h: image.height || $em2.height,
                        title: title
                    })
                })
                var gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, {
                    index: parseInt(i)
                });
                gallery.init()
            }
        })
    }
    viewer_init()
</script> 
<!-- MathJax -->
 <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
      tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
  });

  MathJax.Hub.Queue(function() {
      var all = MathJax.Hub.getAllJax(), i;
      for(i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
      }
  });
</script>

<script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.6/unpacked/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script>
  var ayerConfig = {
    mathjax: true,
  };
</script>

<!-- Katex -->

<!-- busuanzi  -->
 
<script src="/js/busuanzi-2.3.pure.min.js"></script>
 
<!-- ClickLove -->

<!-- ClickBoom1 -->

<!-- ClickBoom2 -->

<!-- CodeCopy -->
 
<link rel="stylesheet" href="/css/clipboard.css">
 <script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script>
<script>
  function wait(callback, seconds) {
    var timelag = null;
    timelag = window.setTimeout(callback, seconds);
  }
  !function (e, t, a) {
    var initCopyCode = function(){
      var copyHtml = '';
      copyHtml += '<button class="btn-copy" data-clipboard-snippet="">';
      copyHtml += '<i class="ri-file-copy-2-line"></i><span>COPY</span>';
      copyHtml += '</button>';
      $(".highlight .code pre").before(copyHtml);
      $(".article pre code").before(copyHtml);
      var clipboard = new ClipboardJS('.btn-copy', {
        target: function(trigger) {
          return trigger.nextElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        let $btn = $(e.trigger);
        $btn.addClass('copied');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-checkbox-circle-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPIED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-checkbox-circle-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
      clipboard.on('error', function(e) {
        e.clearSelection();
        let $btn = $(e.trigger);
        $btn.addClass('copy-failed');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-time-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPY FAILED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-time-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
    }
    initCopyCode();
  }(window, document);
</script>
 
<!-- CanvasBackground -->

<script>
  if (window.mermaid) {
    mermaid.initialize({ theme: "forest" });
  }
</script>


    
    

  </div>
</body>

</html>